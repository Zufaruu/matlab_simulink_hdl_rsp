-- -------------------------------------------------------------
-- 
-- File Name: hdlsrc\Tx_OFDM\QPSK_Modulator_Baseband.vhd
-- Created: 2023-04-08 13:30:41
-- 
-- Generated by MATLAB 9.14 and HDL Coder 4.1
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: QPSK_Modulator_Baseband
-- Source Path: Tx_OFDM/Transmitter/QPSK Modulator Baseband
-- Hierarchy Level: 1
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.Transmitter_pkg.ALL;

ENTITY QPSK_Modulator_Baseband IS
  PORT( in0                               :   IN    std_logic_vector(7 DOWNTO 0);  -- int8
        out0_re                           :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        out0_im                           :   OUT   std_logic_vector(15 DOWNTO 0)  -- sfix16_En15
        );
END QPSK_Modulator_Baseband;


ARCHITECTURE rtl OF QPSK_Modulator_Baseband IS

  -- Constants
  CONSTANT t1_re                          : vector_of_signed16(0 TO 3) := 
    (to_signed(16#5A82#, 16), to_signed(-16#5A82#, 16), to_signed(16#5A82#, 16), to_signed(-16#5A82#, 16));  -- sfix16 [4]
  CONSTANT t1_im                          : vector_of_signed16(0 TO 3) := 
    (to_signed(16#5A82#, 16), to_signed(16#5A82#, 16), to_signed(-16#5A82#, 16), to_signed(-16#5A82#, 16));  -- sfix16 [4]

  -- Signals
  SIGNAL in0_signed                       : signed(7 DOWNTO 0);  -- int8
  SIGNAL constellationLUTaddress          : unsigned(1 DOWNTO 0);  -- ufix2
  SIGNAL out0_re_tmp                      : signed(15 DOWNTO 0);  -- sfix16_En15
  SIGNAL out0_im_tmp                      : signed(15 DOWNTO 0);  -- sfix16_En15

BEGIN
  in0_signed <= signed(in0);

  constellationLUTaddress <= unsigned(in0_signed(1 DOWNTO 0));

  out0_re_tmp <= t1_re(to_integer(constellationLUTaddress));
  out0_im_tmp <= t1_im(to_integer(constellationLUTaddress));

  out0_re <= std_logic_vector(out0_re_tmp);

  out0_im <= std_logic_vector(out0_im_tmp);

END rtl;

